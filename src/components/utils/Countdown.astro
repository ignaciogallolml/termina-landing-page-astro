---
// Puedes pasar la fecha de finalización como prop si lo deseas.
const targetDate = new Date('2024-12-31T23:59:59').getTime();
---

<script>
  // La función que actualiza la cuenta regresiva.
  function startCountdown() {
    const countdownElement = document.getElementById('countdown');
    const targetDate = new Date('2024-12-31T23:59:59').getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance <= 0) {
        countdownElement.innerHTML = "¡Cuenta atrás completada!";
        clearInterval(interval);  // Detén el temporizador si ya terminó
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownElement.innerHTML = `<span class="border-r-2 border-white pr-7">${days} D</span><span class="border-r-2 border-white px-7">${hours} H</span><span class="border-r-2 border-white px-7">${minutes} M</span><span class="px-7">${seconds} S</span>`;
    }

    // Actualiza cada segundo.
    const interval = setInterval(updateCountdown, 1000);

    // Llama a la función una vez al principio para que no haya retraso inicial.
    updateCountdown();
  }

  // Ejecutar la cuenta regresiva cuando se cargue el script.
  document.addEventListener("DOMContentLoaded", startCountdown);
</script>

<div class="mt-12">
  <h2 class="text-sm text-white tracking-[10px] uppercase mb-2">Collision in</h2>
  <p id="countdown" class="text-white text-2xl font-bold"></p>
</div>
