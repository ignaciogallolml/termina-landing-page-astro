---
// Puedes pasar la fecha de finalización como prop si lo deseas.
const targetDate = new Date('2024-12-31T23:59:59').getTime();
---

<script>
  // La función que actualiza la cuenta regresiva.
  function startCountdown() {
    const countdownElement = document.getElementById('countdown');
    const targetDate = new Date('2024-12-31T23:59:59').getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance <= 0) {
        countdownElement.innerHTML = "¡Cuenta atrás completada!";
        clearInterval(interval);  // Detén el temporizador si ya terminó
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownElement.innerHTML = `${days} Days ${hours} Hours ${minutes} Minutes ${seconds} Seconds`;
    }

    // Actualiza cada segundo.
    const interval = setInterval(updateCountdown, 1000);

    // Llama a la función una vez al principio para que no haya retraso inicial.
    updateCountdown();
  }

  // Ejecutar la cuenta regresiva cuando se cargue el script.
  document.addEventListener("DOMContentLoaded", startCountdown);
</script>

<div>
  <h2 class="text-2xl text-white font-medium">Time left for collision</h2>
  <p id="countdown" class="text-white"></p>
</div>